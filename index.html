<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spinning Potato</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
    :root {
      --bg-light: #ffffff; --bg-dark: #121212;
      --text-light: #000000; --text-dark: #EEEEEE;
      --accent: #BB86FC;
    }
    [data-theme='light'] { background-color: var(--bg-light); color: var(--text-light); }
    [data-theme='dark']  { background-color: var(--bg-dark);  color: var(--text-dark);  }
    html, body {
      margin: 0; padding: 0; height: 100%; font-family: 'Roboto', sans-serif;
      display: flex; flex-direction: column; justify-content: center; align-items: center;
      transition: background-color .3s, color .3s;
      background-size: cover; background-position: center;
      overflow: hidden;
    }
    canvas#particleCanvas {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none; z-index: 0;
    }
    .container {
      width: 300px; height: 300px; position: relative; z-index: 1;
      display: flex; justify-content: center; align-items: center; overflow: hidden;
    }
    #potato {
      font-size: 250px; line-height: 1; transform-origin: 50% 50%;
      animation: spin var(--spin-speed, 3s) linear infinite;
      z-index: 2;
    }
    @keyframes spin { from {transform: rotate(0deg);} to {transform: rotate(360deg);} }
    #controls { margin-top: 20px; display: flex; flex-wrap: wrap; gap: 8px; z-index: 2; }
    button, input[type=file] {
      padding: 6px 10px; font-size: 14px; background: var(--accent);
      color: #fff; border: none; border-radius: 4px; cursor: pointer; z-index:2;
    }
    input[type=file] { background: transparent; color: inherit; }
    #sliderContainer { display: flex; align-items: center; gap: 8px; margin-top: 10px; z-index:2; }
    #speedSlider { width: 200px; accent-color: var(--accent); }
    #flipClock { margin-top: 16px; font-size: 24px; letter-spacing: 2px; display: none; z-index:2; }
    #dvdLogo { position: absolute; width: 60px; height: 60px; display: none; z-index:2; }
    p#instructions { margin-top: 16px; font-size: 12px; opacity: 0.8; text-align: center; z-index:2; }
    :fullscreen #controls, :fullscreen #sliderContainer { display: none; }
    #exitBtn { position: fixed; top: 10px; right: 10px; width: 32px; height: 32px;
      font-size: 24px; background: var(--accent); color: #fff; border: none;
      border-radius: 50%; display: none; align-items: center; justify-content: center;
      cursor: pointer; z-index:2;
    }
  </style>
</head>
<body data-theme="dark">
  <canvas id="particleCanvas"></canvas>
  <div id="controls">
    <button id="themeBtn">Toggle Theme</button>
    <button id="fsBtn">Enter Fullscreen</button>
    <input type="file" id="bgInput" accept="image/*">
    <button id="removeBgBtn">Remove Background</button>
    <button id="toggleClockBtn">Toggle Clock</button>
    <input type="file" id="dvdInput" accept="image/*">
    <button id="toggleDvdBtn">Toggle DVD Logo</button>
    <div id="sliderContainer">
      <label for="speedSlider">Rotation Speed</label>
      <input type="range" id="speedSlider" min="0.5" max="10" step="0.1" value="3">
    </div>
    <button id="toggleParticlesBtn">Toggle Particles</button>
  </div>
  <div class="container">
    <span id="potato">ðŸ¥”</span>
    <div id="flipClock"></div>
    <img id="dvdLogo" alt="DVD Logo">
  </div>
  <p id="instructions">Enter fullscreen to hide controls. Exit fullscreen by clicking anywhere on screen and clicking the X button on the top-right corner.</p>
  <button id="exitBtn">âœ•</button>
  <script>
    // Particle effect setup
    const canvas = document.getElementById('particleCanvas');
    const ctx = canvas.getContext('2d');
    let particles = [], particlesEnabled = true;
    function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
    function initParticles() { particles = []; for(let i=0;i<200;i++){ particles.push({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, size: Math.random()*3+2, speed: Math.random()*1+0.5 }); } }
    function drawParticles(){ ctx.clearRect(0,0,canvas.width,canvas.height); if(particlesEnabled){ ctx.fillStyle='rgba(255,255,255,0.5)'; particles.forEach(p=>{ ctx.beginPath(); ctx.arc(p.x,p.y,p.size,0,Math.PI*2); ctx.fill(); p.y+=p.speed; if(p.y>canvas.height) p.y=0; }); } requestAnimationFrame(drawParticles);}  
    initParticles(); drawParticles();// Controls
const body = document.body;
const potato = document.getElementById('potato');
const speedSlider = document.getElementById('speedSlider');
const [minVal,maxVal] = [parseFloat(speedSlider.min), parseFloat(speedSlider.max)];
const themeBtn = document.getElementById('themeBtn');
const fsBtn = document.getElementById('fsBtn');
const bgInput = document.getElementById('bgInput');
const removeBgBtn = document.getElementById('removeBgBtn');
const toggleClockBtn = document.getElementById('toggleClockBtn');
const dvdInput = document.getElementById('dvdInput');
const toggleDvdBtn = document.getElementById('toggleDvdBtn');
const toggleParticlesBtn = document.getElementById('toggleParticlesBtn');
const flipClock = document.getElementById('flipClock');
const dvdLogo = document.getElementById('dvdLogo');
const exitBtn = document.getElementById('exitBtn');
let dvd={x:0,y:0,vx:2,vy:2,hue:0}, clockInterval, dvdInterval, exitTimeout;

// Rotation speed
function updateSpeed(){ const v=parseFloat(speedSlider.value), inv=(maxVal+minVal)-v; potato.style.setProperty('--spin-speed',`${inv}s`);}    
speedSlider.addEventListener('input',updateSpeed); updateSpeed();

// Theme toggle
themeBtn.onclick = ()=> body.setAttribute('data-theme', body.getAttribute('data-theme')==='dark'?'light':'dark');

// Fullscreen
fsBtn.onclick = ()=> document.documentElement.requestFullscreen();

// Background upload
bgInput.onchange = e=>{ const f=e.target.files[0]; if(f) body.style.backgroundImage=`url('${URL.createObjectURL(f)}')`; };
removeBgBtn.onclick = ()=>{ body.style.backgroundImage=''; bgInput.value=''; };

// Flip clock
toggleClockBtn.onclick = ()=>{ if(flipClock.style.display==='none') startClock(); else {clearInterval(clockInterval); flipClock.style.display='none';}};
function startClock(){ updateClock(); clockInterval=setInterval(updateClock,1000); flipClock.style.display='block'; }
function updateClock(){ const d=new Date(), pad=n=>n.toString().padStart(2,'0'); flipClock.textContent=`${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`; }

// DVD Logo bounce
dvdInput.onchange = e=>{ const f=e.target.files[0]; if(f) dvdLogo.src=URL.createObjectURL(f); };
toggleDvdBtn.onclick = ()=>{ if(dvdLogo.style.display==='none') startDvd(); else stopDvd(); };
function startDvd(){ dvd.x=dvd.y=0; dvd.vx=dvd.vy=2; dvd.hue=0; dvdLogo.style.display='block'; dvdInterval=setInterval(()=>{ const rect=document.querySelector('.container').getBoundingClientRect(); dvd.x+=dvd.vx; dvd.y+=dvd.vy; if(dvd.x<0||dvd.x+dvdLogo.width>rect.width){ dvd.vx*=-1; changeDvdHue(); } if(dvd.y<0||dvd.y+dvdLogo.height>rect.height){ dvd.vy*=-1; changeDvdHue(); } dvdLogo.style.left=dvd.x+'px'; dvdLogo.style.top=dvd.y+'px'; },16);}    
function stopDvd(){ clearInterval(dvdInterval); dvdLogo.style.display='none'; }
function changeDvdHue(){ dvd.hue=(dvd.hue+60)%360; dvdLogo.style.filter=`hue-rotate(${dvd.hue}deg)`; }

// Toggle particles
toggleParticlesBtn.onclick = ()=>{ particlesEnabled = !particlesEnabled; toggleParticlesBtn.textContent = particlesEnabled ? 'Particles On' : 'Particles Off'; };

// Fullscreen exit behavior
document.addEventListener('fullscreenchange',()=>{ if(!document.fullscreenElement){ clearInterval(clockInterval); flipClock.style.display='none'; stopDvd(); exitBtn.style.display='none'; }});
document.addEventListener('click',()=>{ if(document.fullscreenElement){ clearTimeout(exitTimeout); exitBtn.style.display='flex'; exitTimeout=setTimeout(()=>exitBtn.style.display='none',5000); }});
exitBtn.onclick = ()=> document.exitFullscreen();

  </script>
</body>
</html>
