<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spinning Potato</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
    :root {
      --bg-light: #ffffff;
      --bg-dark: #121212;
      --text-light: #000000;
      --text-dark: #EEEEEE;
      --accent: #BB86FC;
    }
    [data-theme='light'] { background-color: var(--bg-light); color: var(--text-light); }
    [data-theme='dark']  { background-color: var(--bg-dark);  color: var(--text-dark);  }
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Roboto', sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      transition: background-color 0.3s, color 0.3s;
    }
    .container {
      width: 300px;
      height: 300px;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      position: relative;
    }
    #potato {
      font-size: 250px;
      display: inline-block;
      line-height: 1;
      transform-origin: 50% 50%;
      animation: spin var(--spin-speed, 3s) linear infinite;
    }
    @keyframes spin { from {transform: rotate(0deg);} to {transform: rotate(360deg);} }
    #controls {
      margin-top: 20px;
      display: flex;
      gap: 10px;
    }
    button {
      padding: 8px 12px;
      font-size: 14px;
      cursor: pointer;
      background: var(--accent);
      border: none;
      border-radius: 4px;
      color: #fff;
      font-weight: bold;
      transition: opacity 0.2s;
    }
    button:active { opacity: 0.7; }
    #sliderContainer {
      margin-top: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    #sliderContainer label { margin-right: 10px; }
    #speedSlider { width: 300px; accent-color: var(--accent); }
    :fullscreen #controls,
    :fullscreen #sliderContainer,
    :fullscreen button.fullscreen-btn-hidden {
      display: none;
    }
    #exitBtn {
      position: fixed;
      top: 10px;
      right: 10px;
      width: 32px;
      height: 32px;
      font-size: 24px;
      background: var(--accent);
      border: none;
      border-radius: 50%;
      color: #fff;
      display: none;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
  </style>
</head>
<body data-theme="dark">
  <div id="controls">
    <button id="themeBtn">Toggle Theme</button>
    <button id="fsBtn">Enter Fullscreen</button>
  </div>
  <div class="container">
    <span id="potato" aria-label="Potato emoji">ðŸ¥”</span>
  </div>
  <div id="sliderContainer">
    <label for="speedSlider">Rotation Speed</label>
    <input type="range" id="speedSlider" min="0.5" max="10" step="0.1" value="3">
  </div>
  <button id="exitBtn">âœ•</button>
  <script>
    const potato = document.getElementById('potato');
    const speedSlider = document.getElementById('speedSlider');
    const minVal = parseFloat(speedSlider.min);
    const maxVal = parseFloat(speedSlider.max);
    const themeBtn = document.getElementById('themeBtn');
    const fsBtn = document.getElementById('fsBtn');
    const exitBtn = document.getElementById('exitBtn');
    const body = document.body;
    let exitTimeout;
    function updateSpeed() {
      const val = parseFloat(speedSlider.value);
      const inverted = (maxVal + minVal) - val;
      potato.style.setProperty('--spin-speed', `${inverted}s`);
    }
    speedSlider.addEventListener('input', updateSpeed);
    updateSpeed();
    themeBtn.addEventListener('click', () => {
      const theme = body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      body.setAttribute('data-theme', theme);
    });
    fsBtn.addEventListener('click', () => { document.documentElement.requestFullscreen(); });
    document.addEventListener('fullscreenchange', () => {
      // Hide exit button immediately when exiting fullscreen
      if (!document.fullscreenElement) {
        exitBtn.style.display = 'none';
      }
    });
    document.addEventListener('click', () => {
      if (document.fullscreenElement) {
        clearTimeout(exitTimeout);
        exitBtn.style.display = 'flex';
        exitTimeout = setTimeout(() => exitBtn.style.display = 'none', 5000);
      }
    });
    exitBtn.addEventListener('click', () => { document.exitFullscreen(); });
  </script>
</body>
</html>
