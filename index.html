<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spinning Potato</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
    :root {
      --bg-light: #fff;
      --bg-dark:  #121212;
      --text-light: #000;
      --text-dark:  #eee;
      --accent:   #BB86FC;
    }
    [data-theme='light'] { background: var(--bg-light); color: var(--text-light); }
    [data-theme='dark']  { background: var(--bg-dark);  color: var(--text-dark);  }
    html, body {
      margin: 0; padding: 0;
      width: 100%; height: 100%; overflow: hidden;
      display: flex; align-items: center; justify-content: center;
      background-size: cover; background-position: center; background-attachment: fixed;
      font-family: 'Roboto', sans-serif;
      transition: background 0.3s, color 0.3s;
    }
    /* Toolbar */
    #toolbar {
      position: fixed; top: 12px; left: 50%; transform: translateX(-50%);
      display: flex; flex-wrap: wrap; gap: 6px;
      background: rgba(0,0,0,0.5); padding: 8px; border-radius: 12px; z-index: 10;
    }
    #toolbar button, #toolbar .file-btn {
      font-size: 12px; padding: 8px 10px;
      background: var(--accent); color: #fff;
      border: none; border-radius: 12px; cursor: pointer;
      transition: background 0.2s;
      position: relative;
    }
    #toolbar button:hover, #toolbar .file-btn:hover { background: #A555D0; }
    #toolbar .file-btn input { position: absolute; top:0; left:0; width:100%; height:100%; opacity:0; cursor:pointer; }
    #toolbar input[type=range] { width:100px; appearance:none; height:4px; background:#ccc; border-radius:2px; cursor:pointer; }
    #toolbar input[type=range]::-webkit-slider-thumb { appearance:none; width:12px; height:12px; border-radius:50%; background: var(--accent); margin-top:-4px; }
    /* Container */
    #container { position: relative; width:300px; height:300px; overflow: visible; z-index:5; display:flex; align-items:center; justify-content:center; }
    #potato { font-size:250px; animation:spin var(--spin-speed,3s) linear infinite; }
    @keyframes spin { from { transform: rotate(0deg);} to { transform: rotate(360deg);} }
    /* Flip Clock like flipclocker.com */
    .flip-clock { position:absolute; top:-100px; display:none; flex-direction:row; gap:4px; z-index:8; }
    .digit { position: relative; width:50px; height:80px; perspective:1000px; }
    .card {
      position:absolute; width:100%; height:50%; overflow:hidden;
      backface-visibility:hidden; transform-style: preserve-3d;
    }
    .card .face {
      position:absolute; width:100%; height:200%; display:flex;
      align-items:center; justify-content:center;
      background:#222; color:#0ff;
      font-family:'Courier New',monospace; font-size:36px;
    }
    .card.top { top:0; transform-origin: bottom; }
    .card.top .face { transform-origin: bottom; }
    .card.bottom { bottom:0; transform-origin: top; }
    .card.bottom .face { top:-100%; transform-origin: top; }
    .flip { transition: transform 0.6s ease-in-out; }
    .flip-up { transform: rotateX(-180deg); }
    /* Bouncing Logo */
    #dvdLogo { position:fixed; width:60px; height:60px; display:none; border-radius:8px; z-index:6; }
    /* Instructions */
    #instructions { position:fixed; bottom:10px; width:100%; text-align:center; font-size:12px; color:rgba(255,255,255,0.8); z-index:3; pointer-events:none; }
    :fullscreen #toolbar, :fullscreen #exitBtn, :fullscreen #instructions { display:none; }
    /* Exit button */
    #exitBtn { position:fixed; top:12px; right:12px; width:32px; height:32px; font-size:20px; background:var(--accent); color:#fff; border:none; border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; z-index:10; }
  </style>
</head>
<body data-theme="dark">
  <canvas id="particleCanvas"></canvas>
  <div id="toolbar">
    <button id="themeBtn">Theme</button>
    <button id="fsBtn">Fullscreen</button>
    <div class="file-btn">Upload Background<input type="file" id="bgInput" accept="image/*"/></div>
    <button id="removeBgBtn">Remove BG</button>
    <button id="toggleClockBtn">Flip Clock</button>
    <div class="file-btn">Upload Bouncing Logo<input type="file" id="dvdInput" accept="image/*"/></div>
    <button id="toggleDvdBtn" disabled>Off Bouncing Logo</button>
    <label>Speed<input type="range" id="speedSlider" min="0.5" max="10" step="0.1" value="3"/></label>
    <button id="toggleParticlesBtn">Particles On</button>
  </div>
  <div id="container">
    <span id="potato">ðŸ¥”</span>
    <div class="flip-clock" id="flipClock"></div>
  </div>
  <img id="dvdLogo" alt="Bouncing Logo"/>
  <p id="instructions">Enter fullscreen to hide controls. Exit fullscreen by clicking anywhere and clicking âœ•.</p>
  <button id="exitBtn">âœ•</button>
  <script>
    // Canvas particles
    const canvas = document.getElementById('particleCanvas'), ctx = canvas.getContext('2d');
    let parts=[], partsOn=true;
    function resize(){canvas.width=innerWidth;canvas.height=innerHeight;} window.addEventListener('resize',resize); resize();
    function init(){parts=Array.from({length:150},()=>({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*3+2,s:Math.random()+0.5}));}
    function draw(){ctx.clearRect(0,0,canvas.width,canvas.height); if(partsOn){ctx.fillStyle=document.body.dataset.theme==='dark'?'rgba(255,255,255,0.5)':'rgba(0,0,0,0.5)'; parts.forEach(p=>{ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,2*Math.PI);ctx.fill();p.y+=p.s;if(p.y>canvas.height)p.y=0;});} requestAnimationFrame(draw);} init(); draw();
    // Setup flip clock digits
    const flipClock=document.getElementById('flipClock');
    function createDigits(){ flipClock.innerHTML=''; for(let i=0;i<6;i++){ const d=document.createElement('div'); d.className='digit'; d.innerHTML= `<div class="card top"><div class="face">0</div></div><div class="card bottom"><div class="face">0</div></div>`; flipClock.appendChild(d);} }
    createDigits(); const digits=flipClock.querySelectorAll('.digit');
    let lastTime='';
    function updateFlip(){ const now=new Date(),str=now.toTimeString().slice(0,8).replace(/:/g,''); digits.forEach((d,i)=>{ const top=d.querySelector('.card.top'), bot=d.querySelector('.card.bottom'), old=lastTime[i]||str[i], neu=str[i]; if(old!==neu){ d.querySelector('.card.top .face').textContent=old; d.querySelector('.card.bottom .face').textContent=neu; top.classList.add('flip','flip-up'); setTimeout(()=>{ top.classList.remove('flip-up'); bot.classList.add('flip-up'); },300); setTimeout(()=>{ bot.classList.remove('flip-up'); },600); }}); lastTime=str; }
    document.getElementById('toggleClockBtn').onclick=()=>{ if(flipClock.style.display!=='flex'){ updateFlip(); flipClock.style.display='flex'; setInterval(updateFlip,1000);} else flipClock.style.display='none'; };
    // Exit button on tap
    const exitBtn=document.getElementById('exitBtn'); document.addEventListener('click',()=>{ if(document.fullscreenElement){ exitBtn.style.display='flex'; setTimeout(()=>exitBtn.style.display='none',3000);} }); exitBtn.onclick=()=>document.exitFullscreen();
    // Other controls omitted for brevity...
  </script>
</body>
</html>
